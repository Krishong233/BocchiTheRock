function processingRequest(e,t){if(null!=e){var i=null;try{i=$.parseJSON(e)}catch(a){i=null}null!=i&&("0"===i.code?t():"1"===i.code&&DynaPopupToolNew.error("Error",i.error))}}function initMsgListener(){window.addEventListener("message",e=>{if(window.location.origin!==e.origin)return;const t=e.data;Object.keys(t).forEach(e=>{const i=t[e];switch(e){case"showCookieBanner":const t=$(".cookie-banner-popup");!0===i?t.removeClass("closed"):$(".cookie-banner-popup").hasClass("closed")||t.addClass("closed");case"consentButtonText":$(".cookie-banner-accept-button").text(i);break;case"settingsButtonText":$(".cookie-banner-settings-button").text(i);break;case"privacyPolicyLinkText":$(".cookie-banner-content-text a").text(i);break;case"showDeclineAllButton":const o=$(".cookie-banner-decline-button");!0===i?o.css({display:"flex"}):o.css({display:"none"});break;case"declineAllButtonText":$(".cookie-banner-decline-button").text(i);break;case"mainColor":$(".custom-theme .cookie-banner-content").css({backgroundColor:i});break;case"secondColor":$(".custom-theme .cookie-banner-accept-button").css({backgroundColor:i}),$(".custom-theme .cookie-banner-content-text,.custom-theme .cookie-banner-content-text a,.custom-theme .cookie-banner-settings-button,.custom-theme .cookie-banner-close-button").css({color:i}),$(".custom-theme .cookie-banner-decline-button,.custom-theme .cookie-banner-settings-button.layout").css({color:i,borderColor:i});break;case"theme":"Dark"===i?$(".cookie-banner-popup").removeClass("custom-theme").addClass("dark-theme"):"Customize"===i?$(".cookie-banner-popup").removeClass("dark-theme").addClass("custom-theme"):$(".cookie-banner-popup").removeClass("custom-theme").removeClass("dark-theme");break;case"showAdvancedOptions":$(".cookie-banner-popup").addClass("closed"),$(".advanced-cookie-setting-popup-overlay").css({display:"flex"}),$(".advanced-cookie-setting-popup").addClass("show");break;case"saveButtonText":$(".advanced-cookie-save-button").text(i);break;case"essentialCookieHeadlineText":$(".necessary-cookie-headline p").text(i);break;case"essentialCookieParagraphText":$(".necessary-cookie-paragraph").text(i);break;case"analyticsCookieHeadlineText":$(".analytics-cookie-headline p").text(i);break;case"analyticsCookieParagraphText":$(".analytics-cookie-paragraph").text(i);break;case"fontSize":$(".custom-theme .cookie-banner-content-text,.custom-theme .cookie-banner-content-text a,.custom-theme .cookie-banner-settings-button,.custom-theme .cookie-banner-decline-button,.custom-theme .cookie-banner-accept-button").css({fontSize:i+"px"});break;case"fontFamily":$(".custom-theme .cookie-banner-content-text,.custom-theme .cookie-banner-content-text a,.custom-theme .cookie-banner-settings-button,.custom-theme .cookie-banner-decline-button,.custom-theme .cookie-banner-accept-button").css({fontFamily:i});break;case"cookieText":var a=$(".cookie-banner-content-text"),n=a.children();a.html(i).append(n);break;case"buttonStyle":var s="Square"===i?"0px":"RoundedCorners"===i?"6px":"60px";$(".custom-theme .cookie-banner-settings-button,.custom-theme .cookie-banner-decline-button,.custom-theme .cookie-banner-accept-button").css({borderRadius:s})}})})}function initCookieBanner(){var e=$(".cookie-banner-settings-button"),t=$(".cookie-banner-accept-button"),i=$(".cookie-banner-decline-button"),a=$(".cookie-banner-popup"),n=$(".advanced-cookie-setting-popup-overlay"),s=$(".advanced-cookie-setting-popup"),o=a.data("version"),r=$(".cookie-banner-setting-popup"),d=$(".cookie-banner-setting-popup-close-button");e.click(function(){n.css({display:"flex"}),s.addClass("show")}),i.click(function(){cookieBannerAjax("decline",o),$("#analytics-cookie").prop("checked",!1)}),t.click(function(){cookieBannerAjax("accept",o),$("#analytics-cookie").prop("checked",!0)}),$(".cookie-banner-close-button").click(function(){cookieBannerAjax("close",o),$("#analytics-cookie").prop("checked",!1)}),a.addClass("active"),$(".advanced-cookie-setting-popup-close-button, .advanced-cookie-setting-popup-overlay").click(function(){n.fadeOut(),s.removeClass("show"),$(".cookie-banner-popup.closed").length&&r.addClass("show")}),s.click(function(e){e.stopPropagation()}),$(".advanced-cookie-save-button").click(function(){var e=!1;$("#analytics-cookie").prop("checked")&&(e=!0),$.ajax({url:"/cookie-banner",type:"POST",data:{analyticsCookieSetting:e,version:o},success:function(e){processingRequest(e,function(){n.fadeOut(),s.removeClass("show"),$(".cookie-banner-popup.closed").length&&r.addClass("show")})}})}),r.click(function(){n.css({display:"flex"}),s.addClass("show"),r.removeClass("show")}),d.click(function(e){e.stopPropagation(),r.removeClass("show")})}function cookieBannerAjax(e,t){var i=$(".cookie-banner-popup"),a=$(".cookie-banner-setting-popup");$.ajax({url:"/cookie-banner",type:"POST",data:{item:e,version:t},success:function(e){processingRequest(e,function(){i.addClass("closed"),a.addClass("show"),i.animate({bottom:"10px"},600)})}})}function addBackToTopButton(){var e=document.getElementById("dyna-sitebuild-site-wrap");if(e){var t=document.createElement("div");t.className="site-builder-back-to-top-btn",t.innerHTML='<img alt="Top" src="/back-to-top.svg">',t.style.display="none",e.appendChild(t),t.addEventListener("click",function(){e.scrollTo({top:0,behavior:"smooth"})}),e.addEventListener("scroll",function(){e.scrollTop>300?t.style.display="flex":t.style.display="none"})}}function initVideo(){}function initPopup(){var e=$("#dyna-sitebuild-site-shopping-cart"),t=$("#shopping-cart-wapper"),i=e.length>0?e.offset().top+30:0,a=e.length>0?$(window).width()-(e.offset().left+e.outerWidth()):0,n=$("#dyna-sitebuild-site-customer .dyna-sitebuild-site-customer-name"),s=$("#dyna-sitebuild-site-customer-wapper"),o=n.length>0?n.offset().top+30:0,r=n.length>0?$(window).width()-(n.offset().left+n.outerWidth()):0;t.hasClass("show")?t.css({display:"block",top:i,right:a}):t.css({top:i,right:a}),s.css({top:o,right:r}),$(window).width()-(t.outerWidth()+a)<0&&t.css({left:0}),$(window).width()-(s.outerWidth()+r)<0&&s.css({left:0})}function initMenu(){$.each($("#dyna-sitebuild-site-navi-list li.drop"),function(){var e=$(this).find("ul");e&&isJqueryObjectExists(e)&&e.css("min-width",$(this).width()+"px")}),initPopup(),$(window).resize(function(){initPopup()}),$("#dyna-sitebuild-site-customer").click(function(){initPopup()})}function initEditBlocks(){var e=GetURLParameter("preview"),t={};$.each($("#dyna-sitebuild-site-navi-list a"),function(){t[$(this).text()]=$(this).attr("href")}),$.each($(".dyna-sitebuild-block-edit .dyna-sitebuild-block-content a"),function(){var i=$(this).data("cke-saved-href"),a=$(this).data("cke-pa-onclick");if(i&&isJqueryObjectExists(i))if(e&&isJqueryObjectExists(e)&&i.match(/^\//)){var n=addParameterToUrl(i,"preview","1");$(this).attr("href",n)}else{var s=t[i];s&&!$.isEmptyObject(s)&&$(this).attr("href",s)}a&&isJqueryObjectExists(a)&&$(this).attr("onclick",a)})}function isJqueryObjectExists(e){return null!=e&&0!=e.length}function messageButtonClick(e){var t=$(".dyna-sitebuild-message-button");$.each(t,function(){if($(this).is(e)){var t=$(this).parents(".dyna-sitebuild-block-contact");if(null!=t&&t.length>0){var i=$(this).parents(".dyna-sitebuild-contact-form");"3"===i.find(".dyna-sitebuild-contact-form-version").val()?handle_form_v3(i):t.hasClass("dyna-sitebuild-block-contact2")?handle_form_v2(i):handle_form(i)}}})}function handle_form(e){e.validate({onkeyup:!1,highlight:function(e){$(e).css("border","solid 1px #ff0000")},unhighlight:function(e){$(e).css("border","")},rules:{fn:{required:!0},ln:{required:!0},email:{required:!0,email:!0},message:{required:!0}}}),e.valid()&&uploadContactFormData(e,1)}function handle_form_v2(e){var t={},i={name:{required:!0},email:{required:!0,email:!0},message:{required:!0}};for(var a in $.each(e.find(".field_required input").serializeArray(),function(){t[this.name]=this.value}),t)null!=a&&(i[a]={required:!0});e.validate({onkeyup:!1,highlight:function(e){$(e).css("border","solid 1px #ff0000")},unhighlight:function(e){$(e).css("border","")},rules:i}),e.valid()&&uploadContactFormData(e,2)}function handle_form_v3(e){e.validate({onkeyup:!1,highlight:function(e){$(e).css("border","solid 1px #ff0000")},unhighlight:function(e){$(e).css("border","")}}),e.valid()&&uploadContactFormData(e,3)}function uploadContactFormData(e,t){var i=DynaPopupTool,a={},n={};if($.each(e.serializeArray(),function(){a[this.name]?a[this.name]=a[this.name]+","+this.value:a[this.name]=this.value}),2===t){for(var s in a)null!=s&&"name"!=s&&"email"!=s&&"message"!=s&&"send_message"!=s&&(n[s]=a[s]);a.other_message=JSON.stringify(n)}var o=GetURLParameter("preview");a.version=t;var r="/dyna-builder/contact-handler.html";o===undefined||(r+="?preview=1"),$.ajax({url:r,type:"post",data:a,success:function(t){if(null!=t){var a=null;try{a=$.parseJSON(t)}catch(n){a=null}null!=a&&("0"===a.code?(e.parents(".dyna-sitebuild-block-content").html("<p>"+a.confirmation+"</p>"),i.notice("Submitted successfully!")):"1"===a.code&&i.alert("Error",a.error))}}})}function thumbnailClick(e){var t=$(".dyna-sitebuild-block-video .dyna-video-thumbnail");$.each(t,function(){if($(this).is(e)||$(this).has(e).length>0){var t=$(this).parents(".video-wrap");return t&&isJqueryObjectExists(t)&&insertIframe(t,!0),!1}})}function postShareClick(e){var t=$(".blog-post-share-text");$.each(t,function(){var t=$(this).parent();$(this).is(e)||$(this).has(e).lengh>0?t.hasClass("hidden")&&t.removeClass("hidden"):t.hasClass("hidden")||t.addClass("hidden")})}function insertIframe(e,t){var i=e.data("html");if(t){var a=$("<div/>");a.html(i);var n=a.find("iframe").first();if(!n||!isJqueryObjectExists(n))return;var s=n.attr("src");if(!s||!isJqueryObjectExists(s))return;if(-1==s.indexOf("?"))o&&isJqueryObjectExists(o)||(s+="?rel=0&autoplay=1");else{var o=getParameterByName(s,"rel");t=getParameterByName(s,"autoplay");o&&isJqueryObjectExists(o)||(s+="&rel=0"),t&&isJqueryObjectExists(t)||(s+="&autoplay=1")}n.attr("src",s),e.html(a.html())}else{e.html()!=i&&e.html(i)}}function init_preview(){var e=GetURLParameter("preview");e&&isJqueryObjectExists(e)&&$.each($(".dyna-sitebuild-block-content a"),function(){var e=$(this).attr("href");if(e&&isJqueryObjectExists(e)&&e.match(/^\//)){var t=addParameterToUrl(e,"preview","1");$(this).attr("href",t)}})}function addParameterToUrl(e,t,i){var a=new RegExp(t+"=([^&]*)","i").exec(e);return""==(a=a&&a[1]||"")&&(-1==e.indexOf("?")?e+="?"+t+"="+i:e+="&"+t+"="+i),e}function GetURLParameter(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var a=t[i].split("=");if(a[0]==e)return a[1]}}function initMaps(){$.each($(".dyna-sitebuild-block-map iframe.dyna-sitebuild-map-frame"),function(){var e=$(this).attr("src");0==e.indexOf("/dyna-builder/google_map.html")&&(e=window.location.protocol+"//"+window.location.hostname+e,$(this).attr("src",e))})}function initCode(){$(".dyna-sitebuild-block-code .dyna-sitebuild-block-content").is("dynacode")&&$.each($(".dyna-sitebuild-block-code .dyna-sitebuild-block-content"),function(){$(this).html($(this).html().replace(/<dynacode/gi,"<script").replace(/<\/dynacode>/gi,"<\/script>"))})}function initTab(){var e={design:{selectDesign:{backgroundImageUrl:"",imageSize:"",imagePosition:"",border:{}}}},t=$(".dyna-sitebuild-block-tab");function i(t){const i=$("#"+t).attr("data-settings"),a=JSON.parse(i);e.design=a;var n=$("#"+t+" .dyna-sitebuild-block-tab-group-ul li:not(.active)"),s=$("#"+t+" .dyna-sitebuild-block-tab-group-ul li.active"),o=$("#"+t+" .dyna-sitebuild-block-tab-group-ul li.hover");n.css({"background-image":"url("+e.design.backgroundImageUrl+")","background-position":e.design.imagePosition,"background-size":"Cover"==e.design.imageSize?"cover":"Full Image"==e.design.imageSize?"contain":"Tile"==e.design.imageSize||"No Repeat"==e.design.imageSize?"auto":""}),s.css({"background-image":"url("+e.design.selectDesign.backgroundImageUrl+")","background-position":e.design.selectDesign.imagePosition,"background-size":"Cover"==e.design.selectDesign.imageSize?"cover":"Full Image"==e.design.selectDesign.imageSize?"contain":"Tile"==e.design.selectDesign.imageSize||"No Repeat"==e.design.selectDesign.imageSize?"auto":""}),o.css({"background-image":"url("+e.design.selectDesign.backgroundImageUrl+")","background-position":e.design.selectDesign.imagePosition,"background-size":"Cover"==e.design.selectDesign.imageSize?"cover":"Full Image"==e.design.selectDesign.imageSize?"contain":"Tile"==e.design.selectDesign.imageSize||"No Repeat"==e.design.selectDesign.imageSize?"auto":""})}function a(t){const i=$("#"+t).attr("data-settings"),a=JSON.parse(i);e.design=a;var n=$("#"+t+" .dyna-sitebuild-block-tab-group-ul li:not(.active)"),s=$("#"+t+" .dyna-sitebuild-block-tab-group-ul li.active"),o=$("#"+t+" .dyna-sitebuild-block-tab-group-ul li.hover");if(window.innerWidth<=500){var r=$("#"+t+" .dyna-sitebuild-block-tab-layout-four");r.length>0&&(r.removeClass("dyna-sitebuild-block-tab-layout-four"),r.addClass("dyna-sitebuild-block-tab-layout-one"))}n.css({"border-style":"solid","border-width":e.design.border.borderTop.width+"px "+e.design.border.borderRight.width+"px "+e.design.border.borderBottom.width+"px "+e.design.border.borderLeft.width+"px","border-color":e.design.border.borderTop.color+" "+e.design.border.borderRight.color+" "+e.design.border.borderBottom.color+" "+e.design.border.borderLeft.color,"background-color":e.design.backgroundColor}),s.css({"border-style":"solid","border-width":e.design.selectDesign.border.borderTop.width+"px "+e.design.selectDesign.border.borderRight.width+"px "+e.design.selectDesign.border.borderBottom.width+"px "+e.design.selectDesign.border.borderLeft.width+"px","border-color":e.design.selectDesign.border.borderTop.color+" "+e.design.selectDesign.border.borderRight.color+" "+e.design.selectDesign.border.borderBottom.color+" "+e.design.selectDesign.border.borderLeft.color,"background-color":e.design.selectBackgroundColor}),o.css({"border-style":"solid","border-width":e.design.selectDesign.border.borderTop.width+"px "+e.design.selectDesign.border.borderRight.width+"px "+e.design.selectDesign.border.borderBottom.width+"px "+e.design.selectDesign.border.borderLeft.width+"px","border-color":e.design.selectDesign.border.borderTop.color+" "+e.design.selectDesign.border.borderRight.color+" "+e.design.selectDesign.border.borderBottom.color+" "+e.design.selectDesign.border.borderLeft.color,"background-color":e.design.selectBackgroundColor}),$("#"+t+" .dyna-sitebuild-block-tab-image-and-text-all").css({"background-color":e.design.descriptionBackgroundColor,border:`${e.design.border.description.width}px solid ${e.design.border.description.color}`})}function n(t,i){const a=$("#"+t).attr("data-settings"),n=JSON.parse(a);e.design=n;var s=e.design.border.borderTop.width+e.design.border.borderTop.width,o=e.design.border.borderLeft.width+e.design.border.borderRight.width,r=e.design.selectDesign.border.borderTop.width+e.design.selectDesign.border.borderTop.width,d=e.design.selectDesign.border.borderLeft.width+e.design.selectDesign.border.borderRight.width,l=$("#"+t+" .dyna-sitebuild-block-tab-layout-four .dyna-sitebuild-block-tab-group-ul li:not(.active)"),c=$("#"+t+" .dyna-sitebuild-block-tab-layout-four .dyna-sitebuild-block-tab-group-ul li.active"),u=$("#"+t+" .dyna-sitebuild-block-tab-layout-four .dyna-sitebuild-block-tab-group-ul li.hover");s>0&&(l.css({height:"calc("+100/i+"% - "+s+"px)"}),c.css({height:100/i+"%"}),u.css({height:100/i+"%"})),o>0&&l.css({width:"calc(100% - "+o+"px)"}),r>0&&(l.css({height:100/i+"%"}),c.css({height:"calc("+100/i+"% - "+r+"px)"}),u.css({height:"calc("+100/i+"% - "+r+"px)"})),d>0&&(c.css({width:"calc(100% - "+d+"px)"}),u.css({width:"calc(100% - "+d+"px)"}))}$(t).each(function(t,s){const o=$(s).attr("data-settings"),r=JSON.parse(o);e.design=r;var d=$(s)[0].id;$("#"+d+" .dyna-sitebuild-block-tab-group li").click(function(){$(this).addClass("active").removeClass("old").siblings().addClass("old").removeClass("active"),$("#"+d+" .dyna-sitebuild-block-tab-image-and-text").hide().eq($("#"+d+" .dyna-sitebuild-block-tab-group li").index(this)).show(),i(d),a(d),n(d,u)});var l=$("#"+d+" .dyna-sitebuild-block-tab-group-ul li"),c=$("#"+d+" .dyna-sitebuild-block-tab-layout-four .dyna-sitebuild-block-tab-group-ul li"),u=l.length;i(d),a(d),n(d,u),$(l).hover(function(){$(this).addClass("hover"),i(d),a(d),n(d,u)},function(){$(this).removeClass("hover"),i(d),a(d),n(d,u)}),l.css({width:100/u+"%","list-style":"none","text-align":"center",height:""}),c.css({"text-align":"left",width:"100%",height:100/u+"%"}),n(d,u),i(d)})}function replaceGalleryImagePath(){const e=$(".dyna-sitebuild-gallery-slide-container img");e.each(function(t){const i=e[t].getAttribute("src").split(".dynadot.com")[1];i&&e[t].setAttribute("src",i)})}function replaceSocialIcon(){$(".fa-twitter").each(function(){$(this).attr("class","fa-brands fa-x-twitter")})}function initLogin(){$(function(){const e=$(".dyna-site-builder-customer-content.login");if(!e||!isJqueryObjectExists(e))return;const t=$("#dyna-sitebuild-site-top-background-container").height();e.css("height","calc(100vh - "+t+"px)")})}function createActivity(e,t){const i=1===e.type?{title:{html:`<span title='${e.title}'>${e.title}</span>`}}:{color:"transparent",title:{html:`<div class='custom-event' title='${e.title}'>\n                      <span class='event-prefix'></span>\n                      ${e.title}\n                  </div>`}};if(e.isRepeat){const a=e.repeatDate.start,n=dayjs(e.repeatDate.end).diff(a,"day"),s=[];return e.repeatTime&&e.repeatTime.forEach(o=>{let r=0;for(;r<=n;){let n=dayjs(a).add(r,"day").tz(t);const d=dayjs(o.start).tz(t),l=(n=n.set("hour",d.hour()).set("minute",d.minute())).format("YYYY-MM-DD HH:mm"),c=dayjs(o.end).tz(t),u=(n=n.set("hour",c.hour()).set("minute",c.minute())).format("YYYY-MM-DD HH:mm");s.push({extendedProps:e,start:l,end:u,...i}),r+=1}}),s}return e.dateList.map(a=>({extendedProps:e,start:dayjs(a.start).tz(t).format(),end:dayjs(a.end).tz(t).format(),...i}))}function flattenArray(e){return e.reduce(function(e,t){return e.concat(Array.isArray(t)?flattenArray(t):t)},[])}function renderDate(e){const t=dayjs(e).format("MM/DD"),i=dayjs(e).format("hh:mm A"),a=document.createElement("span");a.textContent=t+" ";const n=document.createElement("span");return n.textContent=i,n.style.color="rgba(3, 18, 66, 0.60)",a.appendChild(n),a.outerHTML}function generateEventPopup(e,t,i){const{title:a,description:n}=e,s=`\n            <div class="calendar-popup ${i}">\n                <div class="calendar-popup-title">\n                    <p>Event</p>\n                    <div>\n                        <i id="calendar-popup-close-button" class="fa-regular fa-xmark"></i>\n                    </div>\n                </div>\n                <div class="calendar-popup-line"></div>\n                <div class="calendar-popup-content">\n                    <div class="calendar-popup-content-detail" style="display: flex;">\n                        <div class="calendar-event-preview-border"></div>\n                        <div>\n                            <p class="title">${a}</p>\n                            <p class="time">${renderDate(t[0])} - ${renderDate(t[1])}</p>\n                        </div>\n                    </div>\n                    <div class="calendar-popup-content-desc" style="margin-top: 20px; margin-bottom: 20px; ${n||"display:none;"}">\n                        <div class="calendar-popup-content-desc-title">\n                            Description\n                        </div>\n                        <div class="calendar-popup-content-desc-text">\n                            <input class="calendar-popup-content-desc-text-input" type="text" value="${n}" disabled>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,o=document.createElement("div");o.id="calendar-popup-overlay",o.innerHTML=s,document.body.appendChild(o),$("#calendar-popup-overlay").click(function(e){const t=e.target;t!=document.getElementById("calendar-popup-close-button")&&t!=document.getElementById("calendar-popup-overlay")||o.remove()})}function generateAppointmentPopup(e,t){const{title:i,duration:a}=e,n=`\n            <div class="calendar-appointment-popup">\n                <div class="calendar-appointment-popup-title">\n                    <div class="calendar-appointment-popup-title-top">\n                        <div></div>\n                        <p style="font-size: 20px; font-weight: 600; color: #031242; text-transform: capitalize";>${i}</p>\n                        <div>\n                            <i id="calendar-popup-close-button" class="fa-regular fa-xmark"></i>\n                        </div>\n                    </div>\n                </div>\n                <div id="${t}-schedule-content"></div>\n            </div>\n        `,s=document.getElementById(`${t}-schedule`);s.innerHTML=n,document.addEventListener("click",function(e){const i=e.target;i!=document.getElementById("calendar-popup-close-button")&&s.contains(i)||(s.innerHTML="",$(`#${t}-schedule`).css({display:"none"}))})}function generateAppointmentFromPopup(e,t,i,a,n){const{startTime:s,endTime:o}=e,{eventId:r,calendarId:d,siteBuilderId:l,contact:c,title:u}=t,p=dayjs(s).tz().format("dddd, D MMMM ⋅ HH:mm"),h=dayjs(o).tz().format("HH:mm"),b=`\n            <div class="calendar-appointment-from-popup">\n                <div class="calendar-appointment-from-popup-top">\n                     <p style="font-weight: 600; margin-bottom: 8px;">${u}</p>\n                     <p style="margin-bottom: 4px;">${`${p} – ${h}`}</p>\n                     <p>${i}</p>\n                </div>\n                <div class="calendar-popup-line"></div>\n                <form id="calendar-appointment-from">\n                     <label for="firstName">First Name*</label>\n                     <input name="First Name" type="text" id="firstName" required>\n\n                     <label for="lastName">Last Name*</label>\n                     <input name="Last Name" type="text" id="lastName" required>\n\n                     <label for="email">Email Address*</label>\n                     <input name="Email" type="email" id="email" required>\n                     ${c.map(function(e,t){return`\n                                <label for="${e.title}">${e.title}${e.required?"*":""}</label>\n                                <input name="${e.title}" type="text" id="${e.title}" ${e.required?"required":""}>\n                            `}).join("")}\n                     <button style="background: #0096F7" type="submit">Appointment</button>\n                     <button id="calendar-from-popup-close-button" style="border: 1.25px solid #031242; color: #031242;" type="button">Cancel</button>\n                </form>\n            </div>\n        `,g=document.createElement("div");g.id="calendar-from-popup-overlay",g.innerHTML=b,document.body.appendChild(g),$("#calendar-from-popup-overlay").click(function(e){e.stopPropagation();const t=e.target;t!=document.getElementById("calendar-from-popup-close-button")&&t!=document.getElementById("calendar-from-popup-overlay")||g.remove()});var m=!0;document.getElementById("calendar-appointment-from").addEventListener("submit",function(t){if(!m)return;m=!1,t.preventDefault();const c=document.getElementById("calendar-appointment-from"),p=c.elements["First Name"].value,h=c.elements["Last Name"].value,b=c.elements.Email.value,v={};for(let e=3;e<c.elements.length;e++){const t=c.elements[e];"INPUT"===t.tagName&&(v[t.name]=t.value)}const f={};f.eventId=r,f.calendarId=d,f.firstName=p,f.lastName=h,f.email=b,f.contact=v,f.startTime=s,f.endTime=o;const y=`${dayjs(s).tz().format("MMMM D, YYYY (dddd) ⋅ HH:mm")} – ${dayjs(o).tz().format("HH:mm")}`;$.ajax({url:"/calendar",type:"POST",data:{command:"submitAppointment",sbid:l,time:y,timeZone:i,appointment:JSON.stringify(f)},success:function(t){processingRequest(t,function(){g.remove(),fromSuccessPopup(e,i,a,u,n)}),m=!0}})})}function fromSuccessPopup(e,t,i,a,n){const{startTime:s,endTime:o}=e,r=`\n        <div class="calendar-from-success-popup">\n        <div class="calendar-appointment-from-success-popup-top">\n            <img alt="success" src="calendar/firework.png">\n            <p style="font-size: 16px; font-weight: 500; margin-bottom: 10px;">Booking successful </p>\n            <p style="color: rgba(3, 18, 66, 0.40); margin-bottom: 4px;">The email has been sent to </p>\n            <p>${i}</p>\n        </div>\n        <div class="calendar-popup-line"></div>\n        <div class="calendar-appointment-from-success-popup-bottom">\n            <p style="font-weight: 600;">${a}</p>\n            <p>${dayjs(s).tz().format("dddd")}, <span style="font-size: 20px;">${dayjs(s).tz().format("D MMMM")}</span> ⋅ ${dayjs(s).tz().format("HH:mm")} – ${dayjs(o).tz().format("HH:mm")}</p>\n            <p style="margin-bottom: 30px;">${t}</p>\n            <button id="calendar-from-success-popup-close-button">OK</button>\n        </div>\n    </div>\n    `,d=document.createElement("div");d.id="calendar-from-popup-overlay",d.innerHTML=r,document.body.appendChild(d),$("#calendar-from-popup-overlay").click(function(e){e.stopPropagation();const t=e.target;if(t==document.getElementById("calendar-from-success-popup-close-button")||t==document.getElementById("calendar-from-popup-overlay")){d.remove(),document.getElementById(`${n}-schedule`).innerHTML="",$(`#${n}-schedule`).css({display:"none"})}})}function sortByProperty(e=[],t){return e.slice().sort(function(e,i){return e[t]<i[t]?-1:e[t]>i[t]?1:0})}function addScheduleAppointment(e,t,i){let a=dayjs(e.start).tz(),n=dayjs(e.end).tz().diff(a,"minute"),s=0;const o=[];if((1440===t||n<t)&&0===i.length)return[{startTime:a.valueOf(),endTime:e.end}];for(;n>=t;){const e=i[s],r=a.add(t,"minute"),d={startTime:a.valueOf(),endTime:r.valueOf()};!e||r.isSame(e.startTime)||r.isBefore(e.startTime)?(o.push(d),a=r,n-=t):a.isBetween(e.startTime,e.endTime,"second","[)")||r.isBetween(e.startTime,e.endTime,"second","(]")||dayjs(e.startTime).tz().isBetween(a,r,"second","[)")||dayjs(e.endTime).tz().isBetween(a,r,"second","(]")?(a=r,n-=t):s+=1}return o}function initCalendar(){const e=$(".dyna-sitebuild-block-calendar");e&&isJqueryObjectExists(e)&&(dayjs.extend(window.dayjs_plugin_timezone),dayjs.extend(window.dayjs_plugin_utc),dayjs.extend(window.dayjs_plugin_isBetween),e.each(function(){const{accountId:e,calendarDomId:t,sitebuilderId:i,height:a,fontColor:n,weekFontSize:s,weekFontWeight:o,weekFontStyle:r,dayFontSize:d,dayFontWeight:l,dayFontStyle:c,headerFontSize:u,headerFontWeight:p,headerFontStyle:h,backgroundColor:b,eventFontColor:g,eventFontSize:m,eventFontWeight:v,email:f,timeZoneLabel:y,timeZoneValue:x}=this.dataset;dayjs.tz.setDefault(x);const k=`\n      #${t} .ec-title {\n        color: ${n} !important\n      }\n\n      #${t} .custom-event {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        color: ${n}\n      }\n\n      #${t} .ec-event {\n        background-color: ${b};\n        font-size: ${m}px;\n        font-weight: ${v};\n        color: ${g};\n        cursor: pointer\n      }\n\n      #${t} .ec-toolbar .ec-title {\n        font-size: ${u}px;\n        font-style: ${h} !important;\n        font-weight: ${p} !important;\n      }\n\n      #${t} .ec-header .ec-days {\n        font-size: ${s}px;\n        font-style: ${r};\n        font-weight: ${o};\n      } \n\n      #${t} .ec-body .ec-day .ec-day-head {\n        font-size: ${d}px;\n        font-style: ${c};\n        font-weight: ${l};\n      }\n      \n      #${t} .ec-today .ec-day-head {\n        width: ${1.154*d}px;\n        background-color: #0096F7;\n        color: #fff;\n        border-radius: 50%;\n        transform: translateX(-50%);\n        margin-left: 50%;\n      }\n\n      #${t} .event-prefix {\n        width: 8px;\n        height: 8px;\n        border-radius: 4px;\n        background-color: ${b};\n        display: inline-block;\n      }\n      \n      .${t} .calendar-event-preview-border {\n        background: ${b};\n      }\n      `,w=document.createElement("style");w.appendChild(document.createTextNode(k)),document.head.appendChild(w);var I=!0;const C=new EventCalendar(document.getElementById(t),{height:`${a}px`,view:"dayGridMonth",locale:"en-US",headerToolbar:{start:"prev",center:"title",end:"next"},eventClick:e=>{if(!I)return;const a=e.event.extendedProps;1==a.type?generateEventPopup(a,[e.event.start,e.event.end],t):(I=!1,$.ajax({url:"/calendar",type:"POST",data:{command:"getAppointment",sbid:i,eventId:a.eventId},success:function(i){if(null!=i){var n=null;try{n=$.parseJSON(i)}catch(s){n=null}if(null!=n)if("0"===n.code){$(`#${t}-schedule`).css({display:"block"}),generateAppointmentPopup(a,t);const i=n.confirmation&&JSON.parse(n.confirmation),s=[],o=sortByProperty(i.appointment,["startTime"]),r=a.duration;if(i.event.isRepeat){const e=i.event,t=e.repeatDate.start,a=dayjs(e.repeatDate.end).diff(t,"day"),n=[];e.repeatTime&&e.repeatTime.forEach(e=>{let i=0;for(;i<=a;){let a=dayjs(t).add(i,"day").tz();const s=dayjs(e.start).tz(),o=(a=a.set("hour",s.hour()).set("minute",s.minute())).valueOf(),r=dayjs(e.end).tz(),d=(a=a.set("hour",r.hour()).set("minute",r.minute())).valueOf();n.push({start:o,end:d}),i+=1}}),n.forEach(e=>{s.push(...addScheduleAppointment(e,r,o))})}else i.event.dateList.forEach(e=>{s.push(...addScheduleAppointment(e,r,o))});s.push(...o),createSchedule({date:e.event.start,target:document.getElementById(`${t}-schedule-content`),duration:a.duration/60,events:s,eventClick:e=>{dayjs().valueOf()<e.endTime&&0!==e.appointmentId&&!e.appointmentId&&generateAppointmentFromPopup(e,a,y,f,t)}})}else"1"===n.code&&DynaPopupToolNew.error("Error",n.error)}I=!0}}))},eventContent:e=>e.event.title});$.ajax({url:"/calendar",type:"POST",data:{command:"getEvent",sbid:i,calendarId:this.dataset.accountId},success:function(e){if(null!=e){var t=null;try{t=$.parseJSON(e)}catch(i){t=null}null!=t&&("0"===t.code?C.setOption("events",flattenArray(JSON.parse(t.confirmation).map(e=>createActivity(e,x)))):t.code)}}})}))}!function(e){"use strict";e.fn.isJqueryObjectExists=function(){return null!=this&&0!=this.length}}(jQuery),$(window).load(function(){$(document).click(function(e){messageButtonClick(e.target),thumbnailClick(e.target),postShareClick(e.target)});var e=$("#dyna-sitebuild-site-navi #dyna-sitebuild-site-navi-list li a");$.each(e,function(){$(this).attr("href")==window.location.pathname&&$(this).addClass("active")}),initEditBlocks(),initVideo(),initMenu(),DynaGallery.reInit(),initMaps(),initCode();let t=$(".dyna-sitebuild-block-card .dyna-sitebuild-block-card-image");t.each(function(){(t=$(this)).hasClass("blog-aspect-r-1")||t.hasClass("blog-aspect-r1")||t.hasClass("blog-aspect-r2")||t.hasClass("blog-aspect-r3")||t.hasClass("blog-aspect-r4")||t.hasClass("blog-aspect-r5")||t.addClass("blog-aspect-r-1")}),initTab(),replaceGalleryImagePath(),replaceSocialIcon();var i=$(".dyna-sitebuild-search-form .dyna-sitebuild-search-form-wrap input[name='query']");$.each(i,function(){$(this).focus(function(){"Search"==$(this).val()&&$(this).val("")}),$(this).blur(function(){""!=$(this).val()&&0!=$.trim($(this).val()).length||$(this).val("Search")})}),addBackToTopButton(),initCookieBanner(),initMsgListener(),initLogin(),initCalendar()}),function(){var e=jQuery,t=function(){function e(){this.fadeDuration=500,this.fitImagesInViewport=!0,this.resizeDuration=700,this.positionFromTop=50,this.showImageNumberLabel=!0,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1}return e.prototype.albumLabel=function(e,t){return"Image "+e+" of "+t},e}(),i=function(){function t(e){this.options=e,this.album=[],this.currentImageIndex=void 0,this.init()}return t.prototype.init=function(){this.enable(),this.build()},t.prototype.enable=function(){var t=this;e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(e(i.currentTarget)),!1})},t.prototype.build=function(){var t=this;e("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1}),this.$outerContainer.on("click",function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return t.changeImage(0===t.currentImageIndex?t.album.length-1:t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.changeImage(t.currentImageIndex===t.album.length-1?0:t.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){function i(e){a.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var a=this,n=e(window);n.on("resize",e.proxy(this.sizeOverlay,this)),e("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var s,o=0,r=t.attr("data-lightbox");if(r){s=e(t.prop("tagName")+'[data-lightbox="'+r+'"]');for(var d=0;d<s.length;d=++d)i(e(s[d])),s[d]===t[0]&&(o=d)}else if("lightbox"===t.attr("rel"))i(t);else{s=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var l=0;l<s.length;l=++l)i(e(s[l])),s[l]===t[0]&&(o=l)}var c=n.scrollTop()+this.options.positionFromTop,u=n.scrollLeft();this.$lightbox.css({top:c+"px",left:u+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(o)},t.prototype.changeImage=function(t){var i=this;this.disableKeyboardNav();var a=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var n=new Image;n.onload=function(){var s,o,r,d,l,c;a.attr("src",i.album[t].link),e(n),a.width(n.width),a.height(n.height),i.options.fitImagesInViewport&&(c=e(window).width(),l=e(window).height(),d=c-i.containerLeftPadding-i.containerRightPadding-20,r=l-i.containerTopPadding-i.containerBottomPadding-120,(n.width>d||n.height>r)&&(n.width/d>n.height/r?(o=d,s=parseInt(n.height/(n.width/o),10),a.width(o),a.height(s)):(s=r,o=parseInt(n.width/(n.height/s),10),a.width(o),a.height(s)))),i.sizeContainer(a.width(),a.height())},n.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(e(window).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){function i(){a.$lightbox.find(".lb-dataContainer").width(o),a.$lightbox.find(".lb-prevLink").height(r),a.$lightbox.find(".lb-nextLink").height(r),a.showImage()}var a=this,n=this.$outerContainer.outerWidth(),s=this.$outerContainer.outerHeight(),o=e+this.containerLeftPadding+this.containerRightPadding,r=t+this.containerTopPadding+this.containerBottomPadding;n!==o||s!==r?this.$outerContainer.animate({width:o,height:r},this.options.resizeDuration,"swing",function(){i()}):i()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){location.href=e(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return t.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t=e.keyCode,i=String.fromCharCode(t).toLowerCase();27===t||i.match(/x|o|c/)?this.end():"p"===i||37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===i||39===t)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"})},t}();e(function(){var e=new t;new i(e)})}.call(this);var DynaGallery=function($,undefined){var isJqueryObjectExists=function(e){return null!=e&&0!=e.length},styleClasses=["slide","carousel","grid","stacked"],clickRowConfig={"transition-row":"transition-speed-row","show-thumbnail-row":"thumbnail-height-row,thumbnail-top-row"},aspectRatios=[{name:"1:1 Square",ratio:100},{name:"3:2 Standard",ratio:66.66},{name:"2:3 Standard(Vertical)",ratio:150},{name:"4:3 Four-Three",ratio:75},{name:"3:4 Three-Four(Vertical)",ratio:133.33},{name:"16:9 Widescreen",ratio:56.25},{name:"2.40 Anamorphic Widescreen",ratio:41.66}],slidersConfig={"transition-speed-row":{min:1,max:10,step:1},"thumbnail-height-row":{min:0,max:200,step:1},"thumbnail-top-row":{min:0,max:60,step:1},"grid-thumbnail-num-row":{min:1,max:10,step:1},"grid-thumbnail-padding-row":{min:0,max:50,step:1}},defaultOptions=[{$AutoPlay:!1,$AutoPlayInterval:5e3,$PauseOnHover:3,$MinDragOffsetToSlide:20,$ArrowNavigatorOptions:{$ChanceToShow:0,$AutoCenter:2,$Steps:1},$ThumbnailNavigatorOptions:{$ChanceToShow:0,$SpacingX:0,$Height:80,$Top:20}},{$AutoPlay:!1,$AutoPlayInterval:5e3,$ArrowNavigatorOptions:{$ChanceToShow:0,$AutoCenter:2,$Steps:1}},{$AspectRatio:0,$ImagePerRow:4,$Padding:20,$Lightbox:!1}],reInitClass=function(e,t){for(var i=0;i<styleClasses.length;i++){var a="dyna-sitebuild-gallery-"+styleClasses[i];i==t?e.hasClass(a)||e.addClass(a):e.hasClass(a)&&e.removeClass(a)}},reInitialGallery=function(e){var t=e.data("type");if(isJqueryObjectExists(t))switch(t=parseInt(t)){case 0:reInitSlide(e),reInitClass(e,0);break;case 1:reInitCarousel(e),reInitClass(e,1);break;case 2:reInitGrid(e),reInitClass(e,2);break;case 3:reInitStack(e),reInitClass(e,3)}},reInitSlide=function(e){var t=e.data("html"),i=e.data("options"),a=e.data("ratio"),n=e.data("original");n=!(!n||"1"!=n);var s=jQuery.extend(!0,{},i);isJqueryObjectExists(s.$ThumbnailNavigatorOptions.$Height)&&delete s.$ThumbnailNavigatorOptions.$Height,isJqueryObjectExists(s.$ThumbnailNavigatorOptions.$Top)&&delete s.$ThumbnailNavigatorOptions.$Top,s.$ArrowNavigatorOptions.$Class=$JssorArrowNavigator$,s.$ThumbnailNavigatorOptions.$Class=$JssorThumbnailNavigator$;var o=$("<div></div>");o.html(t);var r=e.width(),d=r*a,l=r;l<=100?l=100:l<=300?l=300:l<=500?l=500:l<=750?l=750:l<=1e3?l=1e3:l<=1500?l=1500:l<=2500&&(l=2500);var c=$('<div class="dyna-sitebuild-gallery-slide-container"></div>');c.uniqueId();var u=$('<div class="dyna-sitebuild-gallery-slides-wrap"></div>'),p=0;"0"!=s.$ThumbnailNavigatorOptions.$ChanceToShow&&(p=parseInt(i.$ThumbnailNavigatorOptions.$Height));var h=0;"0"!=s.$ThumbnailNavigatorOptions.$ChanceToShow&&(h=parseInt(i.$ThumbnailNavigatorOptions.$Top)),c.css("height",d+p+h+"px"),u.css("height",d+"px");var b=$('<div class="dyna-sitebuild-gallery-items"></div>'),g=o.find(".dyna-sitebuild-gallery-item");if(b.attr("u","slides"),$.each(g,function(){if($(this).hasClass("dyna-sitebuild-gallery-image")){var e=$(this).find("img");if(isJqueryObjectExists(e)){var t=e.attr("src")||e.data("src");if(isJqueryObjectExists(t)){var i=$('<div class="dyna-sitebuild-gallery-item dyna-sitebuild-gallery-image"></div>'),o=$("<img/>"),c=$('<div class="dyna-sitebuild-gallery-img-container" />');if(-1==t.indexOf("?img_id")||n)o.attr("src",t);else{var u=l;l<=100?u=100:l<=300?u=300:l<=500?u=500:l<=750?u=750:l<=1e3?u=1e3:l<=1500?u=1500:l<=2500&&(u=2500);var p=t+"&w="+u;o.attr("src",p)}var h=e.data("ratio"),g=r*h;if(h!=a&&c.css("margin-top",(d-g)/(2*r)*100+"%"),o.attr("u","image"),"0"!=s.$ThumbnailNavigatorOptions.$ChanceToShow){var m=$("<img/>");m.attr("src",t),m.attr("u","thumb"),i.append(m)}o.attr("alt",e.attr("alt")),"true"===e.attr("data-showTitle")&&e.attr("data-title")&&c.attr("data-title",e.attr("data-title")).css("font-size","50px"),i.append(c.append(o)),b.append(i)}}}}),o=$("<div/>"),u.append(b),c.append(u),"0"!=s.$ArrowNavigatorOptions.$ChanceToShow){var m=d/2,v=$('<span u="arrowleft" class="dyna-sitebuild-block-gallery-arrow-l"></span>'),f=$('<span u="arrowright" class="dyna-sitebuild-block-gallery-arrow-r"></span>');v.css("top",m+"px"),f.css("top",m+"px"),c.append(v),c.append(f)}if("0"!=s.$ThumbnailNavigatorOptions.$ChanceToShow){var y=p/a,x=$('<div class="dyna-sitebuild-gallery-thumb-nav-wrap" style="margin-top:'+h+"px;height:"+p+'px;"><div u="thumbnavigator" class="dyna-sitebuild-block-gallery-thumb-navi"><div class="dyna-sitebuild-block-gallery-thumb-navi-bg"></div><div u="slides" class="dyna-sitebuild-block-gallery-thumb-navi-item"><div u="prototype" class="p" style="width:'+y+'px;"><div class="w"><div u="thumbnailtemplate" class="thumbnailtemplate"></div></div></div></div></div></div>');c.append(x);var k=r/y;k>1&&(k=Math.floor(k),s.$ThumbnailNavigatorOptions.$DisplayPieces=k)}o.append(c),e.find(".dyna-sitebuild-block-content").html(o.html());var w=new $JssorSlider$(c.attr("id"),s);$(window).bind("resize",function(){if(null!=w.$Elmt.parentNode){var e=w.$Elmt.parentNode.clientWidth;e&&w.$ScaleWidth(e)}})},reInitCarousel=function(e){var t=e.data("html"),i=e.data("options"),a=e.data("ratio"),n=jQuery.extend(!0,{},i),s=e.data("original");s=!(!s||"1"!=s),n.$ArrowNavigatorOptions.$Class=$JssorArrowNavigator$;var o=$("<div></div>");o.html(t);var r=e.width(),d=Math.floor(.8*r),l=Math.ceil(.1*r);n.$SlideWidth=d,n.$ParkingPosition=l;var c=d*a,u=$('<div class="dyna-sitebuild-gallery-slide-container"></div>');e.uniqueId(),u.attr("id","dyna-sitebuild-gallery-slide-container-"+e.attr("id"));var p=$('<div class="dyna-sitebuild-gallery-slides-wrap"></div>');u.css("height",c+"px"),p.css("height",c+"px");var h=$('<div class="dyna-sitebuild-gallery-items"></div>'),b=o.find(".dyna-sitebuild-gallery-item");if(h.attr("u","slides"),b.length<3?n.$DisplayPieces=1:n.$DisplayPieces=2,$.each(b,function(){if($(this).hasClass("dyna-sitebuild-gallery-image")){var e=$(this).find("img");if(isJqueryObjectExists(e)){var t=e.attr("src")||e.data("src");if(isJqueryObjectExists(t)){var i=$('<div class="dyna-sitebuild-gallery-item dyna-sitebuild-gallery-image"></div>'),n=$("<img/>"),o=$('<div class="dyna-sitebuild-gallery-img-container" />');if(-1==t.indexOf("?img_id")||s)n.attr("src",t);else{var r=d;d<=100?r=100:d<=300?r=300:d<=500?r=500:d<=750?r=750:d<=1e3?r=1e3:d<=1500?r=1500:d<=2500&&(r=2500);var l=t+"&w="+r;n.attr("src",l)}var u=e.data("ratio"),p=d*u;u!=a&&o.css("margin-top",(c-p)/(2*d)*100+"%"),n.attr("u","image"),n.attr("alt",e.attr("alt")),"true"===e.attr("data-showTitle")&&e.attr("data-title")&&o.attr("data-title",e.attr("data-title")).css("font-size","50px"),i.append(o.append(n)),h.append(i)}}}}),o=$("<div/>"),p.append(h),u.append(p),"0"!=n.$ArrowNavigatorOptions.$ChanceToShow){var g=c/2,m=$('<span u="arrowleft" class="dyna-sitebuild-block-gallery-arrow-l"></span>'),v=$('<span u="arrowright" class="dyna-sitebuild-block-gallery-arrow-r"></span>');m.css("top",g+"px"),v.css("top",g+"px"),u.append(m),u.append(v)}o.append(u),e.find(".dyna-sitebuild-block-content").html(o.html());var f=new $JssorSlider$(u.attr("id"),n);$(window).bind("resize",function(){if(null!=f.$Elmt.parentNode){var e=f.$Elmt.parentNode.clientWidth;e&&f.$ScaleWidth(e)}})},reInitGrid=function(e){var t=e.data("html"),i=e.data("options"),a=parseInt(i.$ImagePerRow),n=parseInt(i.$Padding),s=e.data("original");s=!(!s||"1"!=s);var o=$("<div></div>"),r=e.width(),d=n/r*100,l=(r-n*(a-1))/a,c=l/r*100,u=parseInt(i.$AspectRatio),p=aspectRatios[u].ratio,h=l*p/100;o.html(t);var b=$('<div class="dyna-sitebuild-gallery-slide-container"></div>');e.uniqueId(),b.attr("id","dyna-sitebuild-gallery-slide-container-"+e.attr("id"));var g=$('<div class="dyna-sitebuild-gallery-items"></div>'),m=o.find(".dyna-sitebuild-gallery-item"),v=1;$.each(m,function(){if($(this).hasClass("dyna-sitebuild-gallery-image")){var t=$(this).find("img");if(isJqueryObjectExists(t)){var n=t.attr("src")||t.data("src"),o=t.data("ratio"),r=l,u=h;if(100*o<p?u=r*o:r=u/o,isJqueryObjectExists(n)){var b=$('<div class="dyna-sitebuild-gallery-item dyna-sitebuild-gallery-image"></div>');b.css("margin-bottom",d+"%"),a>1&&v%a!=0&&b.css("margin-right",d+"%"),b.css("width",c+"%");var m=$('<a class="dyna-sitebuild-gallery-item-fit"></a>');m.css("padding-bottom",p+"%"),i.$Lightbox&&(m.attr("href",n),m.attr("data-lightbox","dyna-gallery-"+e.attr("id")));var f=$("<img/>");if(-1==n.indexOf("?img_id")||s)f.attr("src",n);else{var y=r;r<=100?y=100:r<=300?y=300:r<=500?y=500:r<=750?y=750:r<=1e3?y=1e3:r<=1500?y=1500:r<=2500&&(y=2500);var x=n+"&w="+y;f.attr("src",x)}var k=$('<div class="dyna-sitebuild-gallery-img-container" />');if(k.css({width:r/l*100+"%"}),f.css({width:"100%"}),r<l){var w=(100-r/l*100)/2;k.css("margin-right",w+"%")}if(u<h){var I=50*(h-u)/l;k.css("margin-top",I+"%")}f.attr("alt",t.attr("alt")),"true"===t.attr("data-showTitle")&&t.attr("data-title")&&k.attr("data-title",t.attr("data-title")).css("font-size",Math.max(10,c/100*50)+"px"),m.append(k.append(f)),b.append(m),g.append(b)}}}v+=1}),o=$("<div/>"),b.append(g),o.append(b),e.find(".dyna-sitebuild-block-content").html(o.html())},reInitStack=function(e){var t=e.data("html"),i=e.data("original");i=!(!i||"1"!=i);var a=$("<div></div>");a.html(t);var n=$('<div class="dyna-sitebuild-gallery-slide-container"></div>');e.uniqueId(),n.attr("id","dyna-sitebuild-gallery-slide-container-"+e.attr("id"));var s=e.width(),o=$('<div class="dyna-sitebuild-gallery-items"></div>'),r=a.find(".dyna-sitebuild-gallery-item");$.each(r,function(){if($(this).hasClass("dyna-sitebuild-gallery-image")){var e=$(this).find("img");if(isJqueryObjectExists(e)){var t=e.attr("src")||e.data("src");if(isJqueryObjectExists(t)){var a=$('<div class="dyna-sitebuild-gallery-item dyna-sitebuild-gallery-image"></div>'),n=$("<img/>"),r=$('<div class="dyna-sitebuild-gallery-img-container" />');if(-1==t.indexOf("?img_id")||i)n.attr("src",t);else{var d=s;s<=100?d=100:s<=300?d=300:s<=500?d=500:s<=750?d=750:s<=1e3?d=1e3:s<=1500?d=1500:s<=2500&&(d=2500);var l=t+"&w="+d;n.attr("src",l)}n.attr("alt",e.attr("alt")),"true"===e.attr("data-showTitle")&&e.attr("data-title")&&r.attr("data-title",e.attr("data-title")).css("font-size","50px"),a.append(r.append(n)),o.append(a)}}}}),a=$("<div/>"),n.append(o),a.append(n),e.find(".dyna-sitebuild-block-content").html(a.html())},reInitialCarousel=function(e,t,i,a){var n=$('<div class="dyna-sitebuild-carousel-slide-container '+$("#dyna-sitebuild-site-top-rest-background").attr("class")+'"></div>'),s=$('<div class="dyna-sitebuild-carousel-slides-wrap"></div>'),o=e.height();n.attr("id","sitebuild-site-top-rest-background-slide-container"),n.css("height",o+"px"),s.css("height",o+"px");var r=$('<div class="dyna-sitebuild-carousel-items"></div>');for(carousel in t){var d=$('<div class="dyna-sitebuild-carousel-item dyna-sitebuild-carousel-image"></div>');$("<img/>");if(d.attr("id",t[carousel].itemId),d.attr("style",'background-image: url("'+t[carousel].imagePath+'"); background-size: cover; background-position: center center; background-repeat: no-repeat;'),null!=t[carousel].topRest){var l=createTopRest(t[carousel].topRest,a);d.append(l)}r.append(d)}if(r.attr("u","slides"),s.append(r),n.append(s),"0"!=i.$BulletNavigatorOptions.$ChanceToShow){var c=$('<div u="navigator" class="jssorb21" style="bottom: 26px; right: 6px;"><div u="prototype"></div></div>');n.append(c)}var u=$("<div/>");u.append(n),e.append(u.html()),i.$BulletNavigatorOptions.$Class=$JssorBulletNavigator$;var p=new $JssorSlider$(n.attr("id"),i),h=$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-carousel-item"),b=Number($("#dyna-sitebuild-site-top-nav-background").css("padding-top").replace("px",""))+Number($("#dyna-sitebuild-site-top-nav-background").css("padding-bottom").replace("px",""));$("#sitebuild-site-top-rest-background-slide-container").css({position:"absolute",top:"0"});var g=p.$Elmt.parentNode.clientWidth,m=p.$Elmt.parentNode.clientHeight;navOffsetHeight=document.getElementById("dyna-sitebuild-site-top-nav-background").offsetHeight,parentHeight=document.getElementById("dyna-sitebuild-site-top-background-container").offsetHeight,logoImage=$("#dyna-sitebuild-site-head.dyna-sitebuild-site-img-head img"),$("#dyna-sitebuild-site-top-background").css("background-image","none"),$("#sitebuild-site-top-rest-background-slide-container").css({height:parentHeight+"px",overflow:"hidden"}),$.each(h,function(){$(this).children(".dyna-sitebuild-site-top-rest").css({"padding-top":navOffsetHeight+"px",height:parentHeight-navOffsetHeight+"px"})}),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-carousel-item").css("height",parentHeight+b+"px"),isJqueryObjectExists(logoImage)&&$(logoImage).load(function(){parentHeight=document.getElementById("dyna-sitebuild-site-top-background-container").offsetHeight,navOffsetHeight=document.getElementById("dyna-sitebuild-site-top-nav-background").offsetHeight,$("#sitebuild-site-top-rest-background-slide-container").css({height:parentHeight+"px",overflow:"hidden"}),$.each(h,function(){$(this).children(".dyna-sitebuild-site-top-rest").css({"padding-top":navOffsetHeight+"px",height:parentHeight-navOffsetHeight+"px"})}),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-carousel-item").css("height",parentHeight+b+"px")}),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-carousel-items").css("overflow","visible"),$(window).bind("resize",function(){var e=$("#dyna-sitebuild-site-top-background").width();if(null!=p.$Elmt.parentNode){var t=$("#dyna-sitebuild-site-top-background").width(),i=p.$Elmt.parentNode.clientHeight,a=e/g,n=document.getElementById("dyna-sitebuild-site-top-nav-background").offsetHeight,s=1/a,o=i*a,r=document.getElementById("dyna-sitebuild-site-top-nav-background").offsetHeight;m!=i&&(m=i,$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-carousel-item").css("height",i+"px")),g<e?(t&&p.$ScaleWidth(t),$("#sitebuild-site-top-rest-background-slide-container").children("div").css("transform","scale("+e/g+")"),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-site-top-rest").css({transform:"scale("+s+")","margin-top":(i-o)/2*s+"px",height:i-n+"px"}),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-carousel-item").css("left","0px"),$("#sitebuild-site-top-rest-background-slide-container").css({height:i+"px",width:"100%"})):(i&&p.$ScaleHeight(i),$("#sitebuild-site-top-rest-background-slide-container").children("div").css("transform","scaleX("+e/g+")"),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-site-top-rest").css({transform:"scaleX("+s+")","margin-top":"0px",height:i-n+"px"}),$("#sitebuild-site-top-rest-background-slide-container").css({height:i+"px",width:"100%"}))}$("#sitebuild-site-top-rest-background-slide-container .jssorb21").css({transform:"scale(1)",bottom:$("#sitebuild-site-top-rest-background-slide-container").height()-document.getElementById("dyna-sitebuild-site-top-background").offsetHeight+26+"px",left:($("#dyna-sitebuild-site-top-background").width()-$("#sitebuild-site-top-rest-background-slide-container .jssorb21").width())/2+"px"}),$("#sitebuild-site-top-rest-background-slide-container .dyna-sitebuild-site-top-rest").css({width:e+"px",position:"absolute",right:e>1e3?"calc(50% - 500px)":"initial","padding-top":r+"px",left:e>1e3?"initial":-e*(1-s)/2+"px"})})},createTopRest=function(e,t){var i=$('<div class="dyna-sitebuild-site-top-rest"></div>'),a=$('<div class="dyna-sitebuild-site-top-rest-wrap"></div>'),n=$('<div class="dyna-sitebuild-site-top-rest-head"></div>'),s=$('<div class="dyna-sitebuild-site-top-rest-sub"></div>'),o=$('<div class="dyna-sitebuild-site-top-rest-button-wrap"></div>'),r=$('<div class="'+(0==t?"solid":"outline")+' dyna-sitebuild-site-top-rest-button-text"></div>'),d=$('<a class="dyna-sitebuild-site-top-rest-button"></a>');if(null==e.linked_btn)d.attr("href","#");else{var l=e.linked_btn;l=0==l.indexOf("/")||0==l.indexOf("http://")||0==l.indexOf("https://")||"#"==l?l:"http://"+l,d.attr("href",l)}return null==e.btn_text?r.html(""):r.html(e.btn_text),null==e.sub_caption?s.html(""):s.html(e.sub_caption),null==e.caption?n.html(""):n.html(e.caption),d.append(r),o.append(d),a.append(n),a.append(s),(isJqueryObjectExists(e.linked_btn)||isJqueryObjectExists(e.btn_text))&&a.append(o),i.append(a),i};return{reInit:function(){$.each($(".dyna-sitebuild-block-gallery"),function(){var e=$(this).data();for(var t in e){var i=e[t];$(this).removeAttr("data-"+t),$(this).data(t,i)}reInitialGallery($(this))}),$.each($(".dyna-sitebuild-block-instagram"),function(){var e=$(this).data();for(var t in e){var i=e[t];$(this).removeAttr("data-"+t),$(this).data(t,i)}reInitialGallery($(this))});var $headerCarousel=$("#dyna-sitebuild-site-top-rest-background"),bgOptions=$headerCarousel.attr("data-bg-options"),isFree=$headerCarousel.attr("data-bg-free"),buttonStyle=$headerCarousel.attr("data-bg-button-style");if(isJqueryObjectExists(bgOptions)){if(isJqueryObjectExists(isFree)&&"false"==isFree){var currentBgOptions=eval("("+bgOptions+")"),carouselArr=currentBgOptions.carousel.carouselItem;if(isJqueryObjectExists(currentBgOptions.carousel.option)){var defaultOptions=currentBgOptions.carousel.option;1==currentBgOptions.active&&reInitialCarousel($("#dyna-sitebuild-site-top-background"),carouselArr,defaultOptions,buttonStyle)}}$headerCarousel.removeAttr("data-bg-free"),$headerCarousel.removeAttr("data-bg-options"),$headerCarousel.removeAttr("data-bg-button-style")}}}}(jQuery);!function(e){e.fn.fitText=function(t,i){var a=t||1,n=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY,restrictedObj:null,activeTriggerObjId:null,activeTriggerClass:null,runWidth:null},i);return this.each(function(){var t=e(this),i=n.restrictedObj,s=null!=n.activeTriggerObjId&&null!=n.activeTriggerClass,o=function(){var o=!1;s?e("#"+n.activeTriggerObjId).hasClass(n.activeTriggerClass)?o=!0:null!=n.runWidth&&e(window).width()<n.runWidth&&(o=!0):o=!0;if(o){var r=t.width();null!=i&&(r=i.width());var d=e(window).width(),l=Math.max(Math.min(Math.min(r/(10*a),parseFloat(n.maxFontSize)),d/(10*a)),parseFloat(n.minFontSize));for(t.css("font-size",l);(t.width()>i.width()||e(window).width()<t.width())&&l>parseFloat(n.minFontSize);)l-=.5,t.css("font-size",l)}};o(),e(window).on("resize.fittext orientationchange.fittext",o)})}}(jQuery);